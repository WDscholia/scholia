{% import 'sparql-helpers.sparql' as sparql_helpers -%}

#defaultView:BubbleChart
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
SELECT (COUNT(?work) AS ?count) ?topic ?topicLabel WHERE {
  VALUES ?work { {% for q in qs -%} wd:{{ q }} {% endfor -%} }
  ?work wdt:P921 ?topic .
  {{ sparql_helpers.labels(["?topic"], languages) }}
}
GROUP BY ?topic ?topicLabel
ORDER BY DESC(?count)
LIMIT 200
